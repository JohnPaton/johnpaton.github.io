
<!DOCTYPE html>
<html lang="english">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="https://johnpaton.net/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://johnpaton.net/theme/pygments/monokai.min.css">
  <link rel="stylesheet" type="text/css" href="https://johnpaton.net/theme/font-awesome/css/font-awesome.min.css">

    <link href="https://johnpaton.net/styles/custom.css" rel="stylesheet">

    <link href="https://johnpaton.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="John Paton Atom">

    <link href="https://johnpaton.net/feeds/all.rss.xml" type="application/rss+xml" rel="alternate" title="John Paton RSS">

    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#3aa500">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#3aa500">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#3aa500">

    <meta name="author" content="John Paton" />
    <meta name="description" content="John's deep musings and cheap tricks for Python, data science, machine learning, and more." />
<meta property="og:site_name" content="John Paton"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="John Paton"/>
<meta property="og:description" content="John's deep musings and cheap tricks for Python, data science, machine learning, and more."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://johnpaton.net"/>
<meta property="og:image" content="https://johnpaton.net//images/headshot_wide.jpg">

  <title>John Paton &ndash;     Category posts
</title>

</head>
<body>
  <aside>
    <div>
      <a href="https://johnpaton.net">
        <img src="/images/headshot.png" alt="John Paton" title="John Paton">
      </a>
      <h1><a href="https://johnpaton.net/about">John Paton</a></h1>

<p><b style="color:#3aa500;margin-right:2px">/</b>data<b style="color:#3aa500;margin-right:2px;margin-left:2px">/</b>scientist</p>
      <nav>
        <ul class="list">

          <li><a href="/">blog</a></li>
          <li><a href="/tags">tags</a></li>
          <li><a href="/projects">projects</a></li>
          <li><a href="/about">about me</a></li>
          <li><a href="/writing-talks">writing&nbsp;&&nbsp;talks</a></li>
        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-github" href="http://www.github.com/johnpaton" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-twitter" href="http://www.twitter.com/jd_paton" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-linkedin" href="http://linkedin.com/in/john-paton" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-file-pdf-o" href="/static/johnpaton-cv.pdf" target="_blank"><i class="fa fa-file-pdf-o"></i></a></li>
        <li><a class="sc-rss" href="/feeds/all.atom.xml" target="_blank"><i class="fa fa-rss"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>




<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/interrupt-long-processes/">Schedule the interruption of hung Python processes with signals</a></h2>
    <p>
          Posted on Sat 13 July 2019


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/snippets.html">snippets</a>
        &#8226; 3 min read
    </p>
  </header>
  <div>
      <p>A lightweight method to interrupt (hung) Python processes after a set time using the <code>signal</code> library.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/interrupt-long-processes/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/whiskey-reviews/">Generating fake whiskey reviews with GPT-2</a></h2>
    <p>
          Posted on Sun 23 June 2019


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/deep-learning.html">deep learning</a>,              <a href="https://johnpaton.net/tag/natural-language.html">natural language</a>
        &#8226; 11 min read
    </p>
  </header>
  <div>
      <p>I've enjoyed whiskey for a while now, but I can never vocalize all the flavors present in a bottle. I read all these flowery reviews and tasting notes online and I just have no idea how these people come up with <a href="http://whiskyadvocate.com/ratings-reviews/?search=Johnnie+Walker+Blue+Label&amp;submit=+&amp;brand_id=0&amp;rating=0&amp;price=0&amp;category=0&amp;styles_id=0&amp;issue_id=0">descriptions like</a> "caramels, dried peats, elegant cigar smoke, seeds scraped from vanilla beans, brand new pencils, peppercorn, coriander seeds, and star anise"... until now.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/whiskey-reviews/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/redirect-logging/">Redirect standard out to Python's logging module with contextlib</a></h2>
    <p>
          Posted on Wed 22 May 2019


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/snippets.html">snippets</a>
        &#8226; 5 min read
    </p>
  </header>
  <div>
      <p>Python's logging functionality is very nice once you get the hang of it, but many people either disagree or don't bother to use it. Learn how to redirect other people's pesky print statements into your nice logging setup.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/redirect-logging/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/propagate-time-series-events-pandas/">Propagate time series events with Pandas merge_asof</a></h2>
    <p>
          Posted on Sat 13 April 2019


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/data.html">data</a>,              <a href="https://johnpaton.net/tag/time-series.html">time series</a>,              <a href="https://johnpaton.net/tag/pandas.html">pandas</a>
        &#8226; 5 min read
    </p>
  </header>
  <div>
      <p>I recently discovered that Pandas has a function to propagate time series events forward (or backward) in time across a DataFrame. Here's how it works.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/propagate-time-series-events-pandas/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/calvin-puzzle/">Getting Calvin home on time: a statistics puzzle</a></h2>
    <p>
          Posted on Thu 19 July 2018


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/statistics.html">statistics</a>,              <a href="https://johnpaton.net/tag/puzzles.html">puzzles</a>
        &#8226; 10 min read
    </p>
  </header>
  <div>
      <p>I found this puzzle a while ago and couldn't get it out of my head, so I decided to write up a solution. "Calvin has to cross several signals when he walks from his home to school. Each of these signals operate independently. They alternate every 80 seconds between green light and red light. At each signal, there is a counter display that tells him how long it will be before the current signal light changes. Calvin has a magic wand which lets him turn a signal from red to green instantaneously. However, this wand comes with limited battery life, so he can use it only for a specified number of times."</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/calvin-puzzle/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/remapping-the-world/">Remapping the world with word vectors</a></h2>
    <p>
          Posted on Sat 02 December 2017


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/natural-language.html">natural language</a>,              <a href="https://johnpaton.net/tag/dataviz.html">dataviz</a>,              <a href="https://johnpaton.net/tag/d3js.html">d3.js</a>
        &#8226; 12 min read
    </p>
  </header>
  <div>
      <p>Everyone is used to the map. Most people could make a reasonable attempt at drawing one from memory (well, <a href="https://www.theatlantic.com/international/archive/2014/01/what-you-get-when-30-people-draw-a-world-map-from-memory/282901/">sort of</a>). But what would it look like if we positioned the countries not by geographical location, but by our own perceived relationships between them? Armed with Conceptnet Numberbatch, I decided to try just that.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/remapping-the-world/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/clean-spark-udfs/">Cleaner Spark UDF definitions with a little decorator</a></h2>
    <p>
          Posted on Thu 16 November 2017


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/spark.html">spark</a>,              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/data.html">data</a>,              <a href="https://johnpaton.net/tag/snippets.html">snippets</a>
        &#8226; 3 min read
    </p>
  </header>
  <div>
      <p>One of the handy features that makes (Py)Spark more flexible than database tools like Hive even for just transforming tabular data is the ease of creating User Defined Functions (UDFs). However, one thing that still remains a little annoying is that you have to separately define a function and declare it as a UDF. With four lines of code you can clean those definitions right up.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/clean-spark-udfs/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/forward-fill-spark/">Forward-fill missing data in Spark</a></h2>
    <p>
          Posted on Fri 22 September 2017


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/spark.html">spark</a>,              <a href="https://johnpaton.net/tag/data.html">data</a>,              <a href="https://johnpaton.net/tag/pandas.html">pandas</a>,              <a href="https://johnpaton.net/tag/time-series.html">time series</a>
        &#8226; 4 min read
    </p>
  </header>
  <div>
      <p>Since I've started using Apache Spark, one of the frequent annoyances I've come up against is having an idea that would be very easy to implement in Pandas, but turns out to require a really verbose workaround in Spark. A recent example of this is doing a forward fill (filling <code>null</code> values with the last known non-<code>null</code> value).</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/forward-fill-spark/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/responsive-bar-chart/">Creating a responsive bar chart for my tags</a></h2>
    <p>
          Posted on Fri 21 July 2017


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/web.html">web</a>,              <a href="https://johnpaton.net/tag/css.html">css</a>,              <a href="https://johnpaton.net/tag/pelican.html">pelican</a>,              <a href="https://johnpaton.net/tag/jinja.html">jinja</a>
        &#8226; 5 min read
    </p>
  </header>
  <div>
      <p>Today I decided that, since I'm a data kind of guy, I would like my tags page to show a bar chart of how many posts per tag I've made. The idea was to basically have a list of tags on the left, with a bar chart on the right showing how many articles are tagged with that tag, and the bars scaling to the window size. It turned out to be more complicated than I was expecting.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/responsive-bar-chart/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/groupby-without-aggregation/">Groupby without aggregation in Pandas</a></h2>
    <p>
          Posted on Mon 17 July 2017


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/pandas.html">pandas</a>,              <a href="https://johnpaton.net/tag/data.html">data</a>,              <a href="https://johnpaton.net/tag/time-series.html">time series</a>
        &#8226; 2 min read
    </p>
  </header>
  <div>
      <p>Pandas has a useful feature that I didn't appreciate enough when I first started using it: <code>groupby</code>s without aggregation. What do I mean by that? Let's look at an example.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/groupby-without-aggregation/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/periods-since-time-series-events/">Counting the number of periods since time-series events with Pandas</a></h2>
    <p>
          Posted on Sat 15 July 2017


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/pandas.html">pandas</a>,              <a href="https://johnpaton.net/tag/data.html">data</a>,              <a href="https://johnpaton.net/tag/time-series.html">time series</a>
        &#8226; 4 min read
    </p>
  </header>
  <div>
      <p>This is a cute trick I discovered the other day for quickly computing the time since an event on regularly spaced time series data (like monthly reporting), without looping over the data.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/periods-since-time-series-events/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/custom-color-schemes-in-matplotlib/">Custom color schemes in Matplotlib</a></h2>
    <p>
          Posted on Thu 11 May 2017


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/dataviz.html">dataviz</a>,              <a href="https://johnpaton.net/tag/matplotlib.html">matplotlib</a>
        &#8226; 2 min read
    </p>
  </header>
  <div>
      <p>At KPMG, like (I imagine) at most companies, we have a custom color palette that presentations and other materials are supposed to conform to. I actually quite like it when things I produce have a consistent look and feel, so I decided to find out how to make a custom color palette in <a href="https://matplotlib.org/">matplotlib</a>. Turns out that it's super easy.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/custom-color-schemes-in-matplotlib/">    Continue reading...
</a>
  </div>
  <hr />
</article>
<article>
  <header>
    <h2><a href="https://johnpaton.net/posts/engl_ish/">engl_ish: Simulate your language. ish.</a></h2>
    <p>
          Posted on Sat 04 February 2017


          &#8226;     Tagged with

              <a href="https://johnpaton.net/tag/python.html">python</a>,              <a href="https://johnpaton.net/tag/markov.html">markov</a>,              <a href="https://johnpaton.net/tag/natural-language.html">natural language</a>
        &#8226; 18 min read
    </p>
  </header>
  <div>
      <p>Quite a while ago I saw a short film called <a href="https://www.youtube.com/watch?v=Vt4Dfa4fOEY">Skwerl</a>, meant to demonstrate "how English sounds to non-English speakers". As a native English speaker, watching it is quite surreal. The sounds and accents are totally familiar, and there are definitely words in there that you recognize, but there is no discernible overall meaning whatsoever. It's actually kind of hard to listen to. All you've got to hang onto is that what you're hearing somehow <em>feels</em> like English. And that's the point. Skwerl gave me the idea to attempt to create a similar effect, but with reading instead of listening. I wanted to see how English looks to non-English readers. And so I created <code>engl_ish</code>.</p>
      <br>
      <a class="btn" href="https://johnpaton.net/posts/engl_ish/">    Continue reading...
</a>
  </div>
</article>

  <div class="pagination">
  </div>




    <footer>
<p>&copy; John Paton 2017</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - Theme <a href="https://github.com/JohnPaton/flex-mod" target="_blank">modified</a> from <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>'s <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a>
</p>    </footer>
  </main>

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92349567-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->



<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " John Paton ",
  "url" : "https://johnpaton.net",
  "image": "/images/headshot.png",
  "description": "John's deep musings and cheap tricks for Python, data science, machine learning, and more."
}
</script>

</body>
</html>